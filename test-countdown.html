<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试倒计时</title>
</head>
<body>
    <h1>倒计时测试</h1>
    <p>当前时间：<span id="currentTime"></span></p>
    <p>目标时间（3月1日）：<span id="targetTime"></span></p>
    <p>是否应该显示倒计时：<span id="shouldShow"></span></p>
    
    <div id="countdown" style="display: none; margin-top: 30px; padding: 20px; background: #f0f0f0;">
        <h2>距离3月1日还有</h2>
        <div style="font-size: 24px;">
            <span id="days"></span>天
            <span id="hours"></span>小时
            <span id="minutes"></span>分钟
            <span id="seconds"></span>秒
        </div>
    </div>

    <script>
        const currentDate = new Date();
        const currentYear = currentDate.getFullYear();
        const accessDate = new Date(currentYear, 2, 1, 0, 0, 0);
        
        document.getElementById('currentTime').textContent = currentDate.toString();
        document.getElementById('targetTime').textContent = accessDate.toString();
        document.getElementById('shouldShow').textContent = currentDate < accessDate ? '是' : '否';
        
        if (currentDate < accessDate) {
            document.getElementById('countdown').style.display = 'block';
            
            function updateCountdown() {
                const now = new Date().getTime();
                const target = accessDate.getTime();
                const distance = target - now;
                
                if (distance < 0) {
                    document.getElementById('countdown').innerHTML = '<h2>时间到！</h2>';
                    return;
                }
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            }
            
            updateCountdown();
            setInterval(updateCountdown, 1000);
        } else {
            document.getElementById('countdown').innerHTML = '<h2>计划已开启！</h2>';
            document.getElementById('countdown').style.display = 'block';
        }
    </script>
</body>
</html>
